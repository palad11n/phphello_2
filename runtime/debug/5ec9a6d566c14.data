a:14:{s:6:"config";s:1357:"a:5:{s:10:"phpVersion";s:6:"7.3.18";s:10:"yiiVersion";s:6:"2.0.35";s:11:"application";a:8:{s:3:"yii";s:6:"2.0.35";s:4:"name";s:14:"My Application";s:7:"version";s:3:"1.0";s:8:"language";s:5:"en-US";s:14:"sourceLanguage";s:5:"en-US";s:7:"charset";s:5:"UTF-8";s:3:"env";s:3:"dev";s:5:"debug";b:1;}s:3:"php";a:5:{s:7:"version";s:6:"7.3.18";s:6:"xdebug";b:0;s:3:"apc";b:0;s:8:"memcache";b:0;s:9:"memcached";b:0;}s:10:"extensions";a:5:{s:22:"yiisoft/yii2-bootstrap";a:3:{s:4:"name";s:22:"yiisoft/yii2-bootstrap";s:7:"version";s:8:"2.0.10.0";s:5:"alias";a:1:{s:14:"@yii/bootstrap";s:42:"/var/www/vendor/yiisoft/yii2-bootstrap/src";}}s:24:"yiisoft/yii2-swiftmailer";a:3:{s:4:"name";s:24:"yiisoft/yii2-swiftmailer";s:7:"version";s:7:"2.1.2.0";s:5:"alias";a:1:{s:16:"@yii/swiftmailer";s:44:"/var/www/vendor/yiisoft/yii2-swiftmailer/src";}}s:18:"yiisoft/yii2-debug";a:3:{s:4:"name";s:18:"yiisoft/yii2-debug";s:7:"version";s:8:"2.1.13.0";s:5:"alias";a:1:{s:10:"@yii/debug";s:38:"/var/www/vendor/yiisoft/yii2-debug/src";}}s:16:"yiisoft/yii2-gii";a:3:{s:4:"name";s:16:"yiisoft/yii2-gii";s:7:"version";s:7:"2.1.4.0";s:5:"alias";a:1:{s:8:"@yii/gii";s:36:"/var/www/vendor/yiisoft/yii2-gii/src";}}s:18:"yiisoft/yii2-faker";a:3:{s:4:"name";s:18:"yiisoft/yii2-faker";s:7:"version";s:7:"2.0.4.0";s:5:"alias";a:1:{s:10:"@yii/faker";s:34:"/var/www/vendor/yiisoft/yii2-faker";}}}}";s:7:"request";s:3885:"a:15:{s:7:"flashes";a:0:{}s:10:"statusCode";i:500;s:14:"requestHeaders";a:8:{s:14:"content-length";s:2:"12";s:12:"content-type";s:33:"application/x-www-form-urlencoded";s:10:"connection";s:10:"keep-alive";s:15:"accept-encoding";s:17:"gzip, deflate, br";s:4:"host";s:19:"192.168.99.102:8500";s:13:"postman-token";s:36:"35fc8aab-ef0c-4cb7-8124-c86e7a59d38e";s:6:"accept";s:3:"*/*";s:10:"user-agent";s:21:"PostmanRuntime/7.25.0";}s:15:"responseHeaders";a:1:{s:12:"Content-type";s:24:"text/html; charset=UTF-8";}s:5:"route";s:17:"api/metric/search";s:6:"action";s:60:"app\modules\api\controllers\MetricController::actionSearch()";s:12:"actionParams";a:0:{}s:7:"general";a:5:{s:6:"method";s:3:"GET";s:6:"isAjax";b:0;s:6:"isPjax";b:0;s:7:"isFlash";b:0;s:18:"isSecureConnection";b:0;}s:11:"requestBody";a:3:{s:12:"Content Type";s:33:"application/x-www-form-urlencoded";s:3:"Raw";s:12:"name=weather";s:17:"Decoded to Params";a:1:{s:4:"name";s:7:"weather";}}s:6:"SERVER";a:60:{s:24:"PHP_EXTRA_CONFIGURE_ARGS";s:77:"--enable-fpm --with-fpm-user=www-data --with-fpm-group=www-data --disable-cgi";s:8:"HOSTNAME";s:12:"995ad671eda0";s:11:"PHP_INI_DIR";s:18:"/usr/local/etc/php";s:4:"HOME";s:8:"/var/www";s:3:"PS1";s:58:"\e[0;35mphd \e[0;37m\u container \h \e[0;32m\w \e[0;0m\n$ ";s:11:"PHP_LDFLAGS";s:12:"-Wl,-O1 -pie";s:10:"PHP_CFLAGS";s:83:"-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64";s:7:"PHP_MD5";s:0:"";s:14:"VERSION_XDEBUG";s:5:"2.8.1";s:11:"PHP_VERSION";s:6:"7.3.18";s:26:"VERSION_PRESTISSIMO_PLUGIN";s:6:"^0.3.7";s:8:"GPG_KEYS";s:81:"CBAF69F173A0FEA4B537F470D66C9593118BCCB6 F38252826ACD957EF380D39F2F7956BC5DA04B5D";s:12:"PHP_CPPFLAGS";s:83:"-fstack-protector-strong -fpic -fpie -O2 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64";s:11:"PHP_ASC_URL";s:55:"https://www.php.net/distributions/php-7.3.18.tar.xz.asc";s:24:"COMPOSER_ALLOW_SUPERUSER";s:1:"1";s:7:"PHP_URL";s:51:"https://www.php.net/distributions/php-7.3.18.tar.xz";s:11:"PHP_USER_ID";s:2:"33";s:4:"TERM";s:5:"linux";s:4:"PATH";s:108:"/app:/app/vendor/bin:/root/.composer/vendor/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin";s:15:"DEBIAN_FRONTEND";s:14:"noninteractive";s:11:"PHPIZE_DEPS";s:76:"autoconf 		dpkg-dev 		file 		g++ 		gcc 		libc-dev 		make 		pkg-config 		re2c";s:3:"PWD";s:4:"/app";s:10:"PHP_SHA256";s:64:"7b3e2479a8d6fd7666dcdef8aec50d49c4599cc6ee86e48d41724cfd99cc9e58";s:2:"TZ";s:20:""Asia/Yekaterinburg"";s:17:"PHP_ENABLE_XDEBUG";s:1:"0";s:4:"USER";s:8:"www-data";s:19:"HTTP_CONTENT_LENGTH";s:2:"12";s:17:"HTTP_CONTENT_TYPE";s:33:"application/x-www-form-urlencoded";s:15:"HTTP_CONNECTION";s:10:"keep-alive";s:20:"HTTP_ACCEPT_ENCODING";s:17:"gzip, deflate, br";s:9:"HTTP_HOST";s:19:"192.168.99.102:8500";s:18:"HTTP_POSTMAN_TOKEN";s:36:"35fc8aab-ef0c-4cb7-8124-c86e7a59d38e";s:11:"HTTP_ACCEPT";s:3:"*/*";s:15:"HTTP_USER_AGENT";s:21:"PostmanRuntime/7.25.0";s:9:"PATH_INFO";s:0:"";s:15:"SCRIPT_FILENAME";s:22:"/var/www/web/index.php";s:15:"REDIRECT_STATUS";s:3:"200";s:11:"SERVER_NAME";s:9:"localhost";s:11:"SERVER_PORT";s:2:"80";s:11:"SERVER_ADDR";s:10:"172.22.0.4";s:11:"REMOTE_PORT";s:5:"56520";s:11:"REMOTE_ADDR";s:12:"192.168.99.1";s:15:"SERVER_SOFTWARE";s:13:"nginx/1.17.10";s:17:"GATEWAY_INTERFACE";s:7:"CGI/1.1";s:14:"REQUEST_SCHEME";s:4:"http";s:15:"SERVER_PROTOCOL";s:8:"HTTP/1.1";s:13:"DOCUMENT_ROOT";s:12:"/var/www/web";s:12:"DOCUMENT_URI";s:10:"/index.php";s:11:"REQUEST_URI";s:18:"/api/metric/search";s:11:"SCRIPT_NAME";s:10:"/index.php";s:14:"CONTENT_LENGTH";s:2:"12";s:12:"CONTENT_TYPE";s:33:"application/x-www-form-urlencoded";s:14:"REQUEST_METHOD";s:3:"GET";s:12:"QUERY_STRING";s:0:"";s:9:"FCGI_ROLE";s:9:"RESPONDER";s:8:"PHP_SELF";s:0:"";s:18:"REQUEST_TIME_FLOAT";d:1590273749.267662;s:12:"REQUEST_TIME";i:1590273749;s:4:"argv";a:0:{}s:4:"argc";i:0;}s:3:"GET";a:0:{}s:4:"POST";a:0:{}s:6:"COOKIE";a:0:{}s:5:"FILES";a:0:{}s:7:"SESSION";a:0:{}}";s:6:"router";s:1275:"a:3:{s:8:"messages";a:6:{i:5;a:6:{i:0;a:3:{s:4:"rule";s:3:"gii";s:5:"match";b:0;s:6:"parent";N;}i:1;i:8;i:2;s:32:"yii\web\UrlManager::parseRequest";i:3;d:1590273749.437425;i:4;a:0:{}i:5;i:1286392;}i:6;a:6:{i:0;a:3:{s:4:"rule";s:12:"gii/<id:\w+>";s:5:"match";b:0;s:6:"parent";N;}i:1;i:8;i:2;s:32:"yii\web\UrlManager::parseRequest";i:3;d:1590273749.437433;i:4;a:0:{}i:5;i:1287144;}i:7;a:6:{i:0;a:3:{s:4:"rule";s:41:"gii/<controller:[\w\-]+>/<action:[\w\-]+>";s:5:"match";b:0;s:6:"parent";N;}i:1;i:8;i:2;s:32:"yii\web\UrlManager::parseRequest";i:3;d:1590273749.437437;i:4;a:0:{}i:5;i:1287896;}i:8;a:6:{i:0;a:3:{s:4:"rule";s:5:"debug";s:5:"match";b:0;s:6:"parent";N;}i:1;i:8;i:2;s:32:"yii\web\UrlManager::parseRequest";i:3;d:1590273749.437441;i:4;a:0:{}i:5;i:1288648;}i:9;a:6:{i:0;a:3:{s:4:"rule";s:43:"debug/<controller:[\w\-]+>/<action:[\w\-]+>";s:5:"match";b:0;s:6:"parent";N;}i:1;i:8;i:2;s:32:"yii\web\UrlManager::parseRequest";i:3;d:1590273749.437444;i:4;a:0:{}i:5;i:1289720;}i:10;a:6:{i:0;s:55:"No matching URL rules. Using default URL parsing logic.";i:1;i:8;i:2;s:32:"yii\web\UrlManager::parseRequest";i:3;d:1590273749.437447;i:4;a:0:{}i:5;i:1290096;}}s:5:"route";s:17:"api/metric/search";s:6:"action";s:60:"app\modules\api\controllers\MetricController::actionSearch()";}";s:3:"log";s:3674:"a:1:{s:8:"messages";a:11:{i:0;a:6:{i:0;s:33:"Bootstrap with yii\log\Dispatcher";i:1;i:8;i:2;s:31:"yii\base\Application::bootstrap";i:3;d:1590273749.384742;i:4;a:0:{}i:5;i:902264;}i:1;a:6:{i:0;s:21:"Loading module: debug";i:1;i:8;i:2;s:26:"yii\base\Module::getModule";i:3;d:1590273749.384757;i:4;a:0:{}i:5;i:903440;}i:2;a:6:{i:0;s:44:"Bootstrap with yii\debug\Module::bootstrap()";i:1;i:8;i:2;s:31:"yii\base\Application::bootstrap";i:3;d:1590273749.419638;i:4;a:0:{}i:5;i:1160952;}i:3;a:6:{i:0;s:19:"Loading module: gii";i:1;i:8;i:2;s:26:"yii\base\Module::getModule";i:3;d:1590273749.428918;i:4;a:0:{}i:5;i:1190416;}i:4;a:6:{i:0;s:42:"Bootstrap with yii\gii\Module::bootstrap()";i:1;i:8;i:2;s:31:"yii\base\Application::bootstrap";i:3;d:1590273749.430924;i:4;a:0:{}i:5;i:1196032;}i:11;a:6:{i:0;s:36:"Route requested: 'api/metric/search'";i:1;i:8;i:2;s:34:"yii\web\Application::handleRequest";i:3;d:1590273749.437453;i:4;a:0:{}i:5;i:1289840;}i:12;a:6:{i:0;s:19:"Loading module: api";i:1;i:8;i:2;s:26:"yii\base\Module::getModule";i:3;d:1590273749.43746;i:4;a:0:{}i:5;i:1291464;}i:13;a:6:{i:0;s:31:"Route to run: api/metric/search";i:1;i:8;i:2;s:30:"yii\base\Controller::runAction";i:3;d:1590273749.444292;i:4;a:0:{}i:5;i:1314208;}i:14;a:6:{i:0;s:76:"Running action: app\modules\api\controllers\MetricController::actionSearch()";i:1;i:8;i:2;s:36:"yii\base\InlineAction::runWithParams";i:3;d:1590273749.445254;i:4;a:0:{}i:5;i:1320176;}i:15;a:6:{i:0;s:47:"Opening DB connection: mysql:host=db;dbname=yii";i:1;i:4;i:2;s:23:"yii\db\Connection::open";i:3;d:1590273749.466983;i:4;a:1:{i:0;a:5:{s:4:"file";s:53:"/var/www/modules/api/controllers/MetricController.php";s:4:"line";i:73;s:8:"function";s:3:"all";s:5:"class";s:18:"yii\db\ActiveQuery";s:4:"type";s:2:"->";}}i:5;i:1589352;}i:18;a:6:{i:0;s:1783:"yii\base\ErrorException: strtoupper() expects parameter 1 to be string, array given in /var/www/vendor/yiisoft/yii2/db/QueryBuilder.php:1599
Stack trace:
#0 [internal function]: yii\base\ErrorHandler->handleError(2, 'strtoupper() ex...', '/var/www/vendor...', 1599, Array)
#1 /var/www/vendor/yiisoft/yii2/db/QueryBuilder.php(1599): strtoupper(Array)
#2 /var/www/vendor/yiisoft/yii2/db/QueryBuilder.php(1576): yii\db\QueryBuilder->createConditionFromArray(Array)
#3 /var/www/vendor/yiisoft/yii2/db/QueryBuilder.php(1357): yii\db\QueryBuilder->buildCondition(Array, '<span class="st...')
#4 /var/www/vendor/yiisoft/yii2/db/QueryBuilder.php(235): yii\db\QueryBuilder->buildWhere(Array, '<span class="st...')
#5 /var/www/vendor/yiisoft/yii2/db/ActiveQuery.php(328): yii\db\QueryBuilder->build(Object(yii\db\Query))
#6 /var/www/vendor/yiisoft/yii2/db/Query.php(248): yii\db\ActiveQuery->createCommand(Object(yii\db\Connection))
#7 /var/www/vendor/yiisoft/yii2/db/ActiveQuery.php(133): yii\db\Query->all(NULL)
#8 /var/www/modules/api/controllers/MetricController.php(73): yii\db\ActiveQuery->all()
#9 [internal function]: app\modules\api\controllers\MetricController->actionSearch()
#10 /var/www/vendor/yiisoft/yii2/base/InlineAction.php(57): call_user_func_array(Array, Array)
#11 /var/www/vendor/yiisoft/yii2/base/Controller.php(157): yii\base\InlineAction->runWithParams(Array)
#12 /var/www/vendor/yiisoft/yii2/base/Module.php(528): yii\base\Controller->runAction('search', Array)
#13 /var/www/vendor/yiisoft/yii2/web/Application.php(103): yii\base\Module->runAction('api/metric/sear...', Array)
#14 /var/www/vendor/yiisoft/yii2/base/Application.php(386): yii\web\Application->handleRequest(Object(yii\web\Request))
#15 /var/www/web/index.php(12): yii\base\Application->run()
#16 {main}";i:1;i:1;i:2;s:25:"yii\base\ErrorException:2";i:3;d:1590273749.468287;i:4;a:0:{}i:5;i:1642832;}}}";s:9:"profiling";s:766:"a:3:{s:6:"memory";i:1965128;s:4:"time";d:0.14433693885803223;s:8:"messages";a:2:{i:16;a:6:{i:0;s:47:"Opening DB connection: mysql:host=db;dbname=yii";i:1;i:80;i:2;s:23:"yii\db\Connection::open";i:3;d:1590273749.467;i:4;a:1:{i:0;a:5:{s:4:"file";s:53:"/var/www/modules/api/controllers/MetricController.php";s:4:"line";i:73;s:8:"function";s:3:"all";s:5:"class";s:18:"yii\db\ActiveQuery";s:4:"type";s:2:"->";}}i:5;i:1590480;}i:17;a:6:{i:0;s:47:"Opening DB connection: mysql:host=db;dbname=yii";i:1;i:96;i:2;s:23:"yii\db\Connection::open";i:3;d:1590273749.467791;i:4;a:1:{i:0;a:5:{s:4:"file";s:53:"/var/www/modules/api/controllers/MetricController.php";s:4:"line";i:73;s:8:"function";s:3:"all";s:5:"class";s:18:"yii\db\ActiveQuery";s:4:"type";s:2:"->";}}i:5;i:1636192;}}}";s:2:"db";s:27:"a:1:{s:8:"messages";a:0:{}}";s:5:"event";s:1426:"a:8:{i:0;a:5:{s:4:"time";d:1590273749.436491;s:4:"name";s:13:"beforeRequest";s:5:"class";s:14:"yii\base\Event";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:19:"yii\web\Application";}i:1;a:5:{s:4:"time";d:1590273749.445233;s:4:"name";s:12:"beforeAction";s:5:"class";s:20:"yii\base\ActionEvent";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:19:"yii\web\Application";}i:2;a:5:{s:4:"time";d:1590273749.445241;s:4:"name";s:12:"beforeAction";s:5:"class";s:20:"yii\base\ActionEvent";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:19:"app\modules\api\Api";}i:3;a:5:{s:4:"time";d:1590273749.445247;s:4:"name";s:12:"beforeAction";s:5:"class";s:20:"yii\base\ActionEvent";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:44:"app\modules\api\controllers\MetricController";}i:4;a:5:{s:4:"time";d:1590273749.460852;s:4:"name";s:4:"init";s:5:"class";s:14:"yii\base\Event";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:18:"yii\db\ActiveQuery";}i:5;a:5:{s:4:"time";d:1590273749.467786;s:4:"name";s:9:"afterOpen";s:5:"class";s:14:"yii\base\Event";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:17:"yii\db\Connection";}i:6;a:5:{s:4:"time";d:1590273749.487369;s:4:"name";s:10:"beforeSend";s:5:"class";s:14:"yii\base\Event";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:16:"yii\web\Response";}i:7;a:5:{s:4:"time";d:1590273749.496755;s:4:"name";s:12:"afterPrepare";s:5:"class";s:14:"yii\base\Event";s:8:"isStatic";s:1:"0";s:11:"senderClass";s:16:"yii\web\Response";}}";s:6:"assets";s:6:"a:0:{}";s:4:"mail";s:6:"a:0:{}";s:8:"timeline";s:91:"a:3:{s:5:"start";d:1590273749.367185;s:3:"end";d:1590273749.511609;s:6:"memory";i:1965128;}";s:4:"user";s:2:"N;";s:4:"dump";s:6:"a:0:{}";s:7:"summary";a:12:{s:3:"tag";s:13:"5ec9a6d566c14";s:3:"url";s:44:"http://192.168.99.102:8500/api/metric/search";s:4:"ajax";i:0;s:6:"method";s:3:"GET";s:2:"ip";s:12:"192.168.99.1";s:4:"time";d:1590273749.267662;s:10:"statusCode";i:500;s:8:"sqlCount";i:0;s:9:"mailCount";i:0;s:9:"mailFiles";a:0:{}s:10:"peakMemory";i:1965128;s:14:"processingTime";d:0.14433693885803223;}s:10:"exceptions";a:0:{}}